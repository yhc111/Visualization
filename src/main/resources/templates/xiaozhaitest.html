<!doctype html>
<head>
<meta charset="utf-8">
<title>数据协同一体化展示平台</title>
<link href="/visualization/css/styleZhandian.css"  rel="stylesheet" type="text/css" media="all" />
<script src="visualization/js/jquery-3.2.0.min.js"></script>
<script src="/visualization/js/echarts.min.js" charset="utf-8"></script>
<script src="https://unpkg.com/mapvgl/dist/mapvgl.min.js"></script>
<script src="https://code.bdstatic.com/npm/mapvgl@1.0.0-beta.93/dist/mapvgl.min.js"></script>
<script type="text/javascript">
    function initialize() {
        // 1. 创建地图实例
        var bmapgl = new BMapGL.Map('subwayContainer');
        var point = new BMapGL.Point(108.96840,34.229505);
        bmapgl.centerAndZoom(point, 14);
        bmapgl.enableScrollWheelZoom(true);     //开启鼠标滚轮缩放
        bmapgl.setMapStyleV2({
            styleId: '9e9a27f4d0e5c6d7863eb8725e1e85bb'
        });
        bmapgl.setTilt(60);
        // 2. 创建MapVGL图层管理器
        var view = new mapvgl.View({
            map: bmapgl
        });
        // 3. 创建可视化图层，并添加到图层管理器中
        var layer = new mapvgl.PointLayer({
            blend: 'lighter',
            size: function (item) {
                return item.properties.count;
            },
            color: 'rgba(243, 221, 221, 0.9)'
        });
        view.addLayer(layer);
        // 4. 准备好规范化坐标数据
        var data = [];
        // 小寨站
        var longitude1 = 108.953277;
        var latitude1 = 34.229266;
        var number1 = Math.random()*40;
        var point1 = new BMapGL.Point(longitude1, latitude1);
        var marker1 = new BMapGL.Marker(point1);        // 创建标注
        bmapgl.addOverlay(marker1);                     // 将标注添加到地图中
        marker1.addEventListener("click", function(){
            window.location.href="/xiaozhai";
        });
        var item = [longitude1,latitude1,number1];
        data.push({
            geometry: {
                type: 'Point',
                coordinates: [item[0], item[1]]
            },
            properties: {
                count: item[2]
            }
        });
        // 吉祥村站
        var longitude2 = 108.93965;
        var latitude2 = 34.228647;
        var number2 = Math.random()*40;
        var point2 = new BMapGL.Point(longitude2, latitude2);
        var marker2 = new BMapGL.Marker(point2);        // 创建标注
        bmapgl.addOverlay(marker2);                     // 将标注添加到地图中
        marker2.addEventListener("click", function(){
            window.location.href="/jixiangcun";
        });
        var item = [longitude2,latitude2,number2];
        data.push({
            geometry: {
                type: 'Point',
                coordinates: [item[0], item[1]]
            },
            properties: {
                count: item[2]
            }
        });
        //大雁塔站
        var longitude3 = 108.970488;
        var latitude3 = 34.229154;
        var number3 = Math.random()*40;
        var point3 = new BMapGL.Point(longitude3, latitude3);
        var marker3 = new BMapGL.Marker(point3);        // 创建标注
        bmapgl.addOverlay(marker3);                     // 将标注添加到地图中
        marker3.addEventListener("click", function(){
            window.location.href="/dayanta";
        });
        var item = [longitude3,latitude3,number3];
        data.push({
            geometry: {
                type: 'Point',
                coordinates: [item[0], item[1]]
            },
            properties: {
                count: item[2]
            }
        });
        //北池头站
        var longitude4 = 108.983541;
        var latitude4 = 34.229938;
        var number4 = Math.random()*40;
        var point4 = new BMapGL.Point(longitude4, latitude4);
        var marker4 = new BMapGL.Marker(point4);        // 创建标注
        bmapgl.addOverlay(marker4);                     // 将标注添加到地图中
        marker4.addEventListener("click", function(){
            window.location.href="/beichitou";
        });
        var item = [longitude4,latitude4,number4];
        data.push({
            geometry: {
                type: 'Point',
                coordinates: [item[0], item[1]]
            },
            properties: {
                count: item[2]
            }
        });
        //青龙寺站
        var longitude5 = 109.000721;
        var latitude5 = 34.236914;
        var number5 = Math.random()*40;
        var point5 = new BMapGL.Point(longitude5, latitude5);
        var marker5 = new BMapGL.Marker(point5);        // 创建标注
        bmapgl.addOverlay(marker5);                     // 将标注添加到地图中
        marker5.addEventListener("click", function(){
            window.location.href="/qinglongsi";
        });
        var item = [longitude5,latitude5,number5];
        data.push({
            geometry: {
                type: 'Point',
                coordinates: [item[0], item[1]]
            },
            properties: {
                count: item[2]
            }
        });
        // 5. 关联图层与数据，享受震撼的可视化效果
        layer.setData(data);
    }

    function loadScript() {
        var script1 = document.createElement("script");
        script1.src = "https://api.map.baidu.com/api?v=1.0&type=webgl&ak=vKRbqmmytWCcPk3pXaXZ5wo5gXLaaGZm&callback=initialize";
        document.body.appendChild(script1);
    }

    window.onload = loadScript;
</script>
<!--<script type="text/javascript" src="https://api.map.baidu.com/api?type=subway&v=1.0&ak=aMhHZ7SSZxh1kTuIoGaQyETsPRiNtf51"></script>-->
<style type="text/css">
    #subwayContainer{width:92%; height:84%; margin-left: 4%; margin-top: 1.5%;}
    .BMap_cpyCtrl {
        display: none;
    }
    .anchorBL {
        display: none;
    }
</style>
<script>
    function environment() {
        activeUpdate(1);
        document.getElementById("flag01").innerHTML="温度监测(近24h)";
        WenDu();
        document.getElementById("flag02").innerHTML="湿度监测(近24h)";
        ShiDu();
    }
    function publicSafe() {
        activeUpdate(2);
        document.getElementById("flag01").innerHTML="今日各出口人流量占比";
        FlowPercent();
        document.getElementById("flag02").innerHTML="总人流量趋势(近1h)";
        FlowTotal();
    }
    function gasLeakage() {
        activeUpdate(3);
        document.getElementById("flag01").innerHTML="气压监测(近24h)";
        AtmospherePressure();
        document.getElementById("flag02").innerHTML="有害气体浓度监测(近24h)";
        NoxiousGas();
    }
    function activeUpdate(num) {
        var p = document.getElementById("idx").children;
        for (var i = 0; i < p.length; i++){
            p[i].classList.remove("active");
        }
        p[num].classList.add("active");
    }
</script>
</head>
<body>
<div class="bnt">
    <div class="topbnt_left fl">
        <ul id="idx"><li><a href="/visualization">返回</a></li>
            <li class="active"><a href="#" onclick="environment()">环境监测</a></li>
            <li><a href="#" onclick="publicSafe()">公共安全</a></li>
            <li><a href="#" onclick="gasLeakage()">气体检测</a></li>
        </ul>
    </div>
    <h1 class="tith1 fl">数字一体化协同展示平台</h1>
    <div class=" fr topbnt_right">
        <ul>
            <li><a href="/visualization2">异常信息统计</a></li>
        </ul>
    </div>
</div>
<!-- bnt end -->
<div class="left1">
    <div class="aleftboxttop"><h2 class="tith2">当前站点与时间</h2>
        <div class="lefttoday_tit" style=" height:8%"><p class="fl" id="zhandianleixing">换乘站</p><p class="fr"></p></div>
        <div class="lefttoday_number">
            <div class="timeAndWeather" style="margin-top: 12px;">
                <div class="data" id="currentDate">
                    <p id="stationName">小寨站</p>
                    <br>
                    <p class="time" id="time"></p>
                    <br>
                    <p id="date"></p>
                    <p id="week"></p>
                </div>
            </div>
        </div>
        <!-- lefttoday_number end -->
    </div>
    <div class="aleftboxtmidd">
      <h2 class="tith2">站点实时平均温湿度</h2>
        <div  class="puleftboxtbott3 fr" >
            <div class="widget-inline-box text-center " style="float: left">
                <br>
                <p style="font-size: 20px">当前平均温度</p>
                <h3 class=" ceeb1fd" style="font-size: 40px">26℃</h3>
                <!--<h4 class="text-muted ">较24h前<img src="img/icondown.png" height="16" />1</h4>-->
            </div>
            <div class="widget-inline-box text-center " style="float: left">
                <p style="font-size: 20px">当前平均湿度</p>
                <h3 class=" c24c9ff" style="font-size: 40px">70%</h3>
                <!--<h4 class="text-muted ">较24h前<img src="img/iconup.png" height="16" />3</h4>-->
            </div>
        </div>
  </div>
    <div class="aleftboxtbott">
        <h2 class="tith2">站级服务器运行状态(近1h)</h2>
        <div id="CPURAMROM" class="purightboxtopcont"></div>
    </div>
</div>
<!--  left1 end -->
<div class="mrbox">
      <div class="mrbox_topmidd" style="width: 69%;">
          <div class="amiddboxttop">
              <h2 class="tith2 pt1">&nbsp;&nbsp;&nbsp;&nbsp;
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  西安市地铁站点分布图
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  <select onchange="window.location=this.value">
                      <option value="/visualization">总览</option>
                      <option value="/xiaozhai">小寨</option>
                      <option value="/dayanta">大雁塔</option>
                      <option value="/jixiangcun">吉祥村</option>
                      <option value="/beichitou">北池头</option>
                      <option value="/qinglongsi">青龙寺</option>
                  </select>
              </h2>
              <div id="subwayContainer"></div>
          </div>
            <!--  amiddboxttop end-->
            <div class="amidd_bott">
              <div class="amiddboxtbott1 fl" >
                <h2 id="flag01" class="tith2 pt1">温度监测(近24h)</h2>
                <div id="averageWendu" class="amiddboxtbott2content" ></div>
              </div>
            <div class="amiddboxtbott2 fl"><h2 id="flag02" class="tith2 pt1">湿度监测(近24h)</h2>
                <div id="averageShidu" class="amiddboxtbott2content"></div>
            </div>
        </div>
      </div>
        <!-- mrbox_top end -->
        <div class="mrbox_top_right">
          <div class="arightboxtop"><h2 class="tith2">紧急异常事件提醒</h2>
            <div class="lefttoday_tit"><p class="fl">状态：待解决</p><p class="fr"></p></div>
            <div class="left2_table">
               <ul>
                    <li>
                    <p class="fl"><b>西安市轨道交通</b><br>
                      描述一<br>
                    </p>
                    <p class="fr pt17">2020-04-23</p>
                    </li>
                    <li class="bg">
                    <p class="fl"><b>西安市轨道交通</b><br>
                      描述二<br>
                    </p>
                    <p class="fr pt17">2020-04-23</p>
                    </li>
                    <li>
                    <p class="fl"><b>西安市轨道交通</b><br>
                      描述三<br>
                    </p>
                    <p class="fr pt17">2020-04-23</p>
                    </li>
                    <li class="bg">
                    <p class="fl"><b>西安市轨道交通</b><br>
                      描述四<br>
                    </p>
                    <p class="fr pt17">2020-04-23</p>
                    </li>
                    <li>
                    <p class="fl"><b>西安市轨道交通</b><br>
                      描述五<br>
                    </p>
                    <p class="fr pt17">2020-04-23</p>
                    </li>
                    <li class="bg">
                    <p class="fl"><b>西安市轨道交通</b><br>
                      描述六<br>
                    </p>
                    <p class="fr pt17">2020-04-23</p>
                    </li>
               </ul>
            </div>

          </div>
            <div class="arightboxbott"><h2 class="tith2 ">当前异常事件统计(近24h)</h2>
                <div id="yichangzhanbi" class="pleftbox2topcont"></div>
            </div>
        </div>
        <!-- mrbox_top_right end -->
      </div>

    </div>
</div>

<script type="text/javascript">
    function writeCurrentDate() {
        var now = new Date();
        var year = now.getFullYear(); //得到年份
        var month = now.getMonth();//得到月份
        var date = now.getDate();//得到日期
        var day = now.getDay();//得到周几
        var hour = now.getHours();//得到小时
        var minu = now.getMinutes();//得到分钟
        var sec = now.getSeconds();//得到秒
        var MS = now.getMilliseconds();//获取毫秒
        var week;
        month = month + 1;
        if (month < 10) month = "0" + month;
        if (date < 10) date = "0" + date;
        if (hour < 10) hour = "0" + hour;
        if (minu < 10) minu = "0" + minu;
        if (sec < 10) sec = "0" + sec;
        if (MS < 100) MS = "0" + MS;
        var arr_week = new Array("星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六");
        week = arr_week[day];
        var time = "";
        var date1 = "";
        var week1 = "";
        time = hour + ":" + minu + ":" + sec;
        date1 = year + "年" + month + "月" + date + "日";
        week1 = week;
        //当前日期赋值给当前日期输入框中（jQuery easyUI）
        $("#time").html(time);
        $("#date").html(date1);
        $("#week").html(week1);
    };
    //设置得到当前日期的函数的执行间隔时间，每1000毫秒刷新一次。
    setInterval(writeCurrentDate, 1000);
</script>

<script type="text/javascript">
    var myChart = echarts.init(document.getElementById('purightboxtop'));
    option = {
        color:['#E2DAC7','#F99851', '#FCEF03', '#47B971', '#EE1F93','#8E78C0',  '#03ADE8', '#F4808D','#000000'],
        backgroundColor: 'rgba(1,202,217,.2)',
        grid: {
            left:10,
            right:40,
            top:0,
            bottom:0,
            containLabel: true
        },
        legend: {
            x : 'center',
            y : 'bottom',
            textStyle:{
              fontSize: 10,
              color:'rgba(255,255,255,.7)'
            },
            data:['温度','湿度','压力','有害气体']
        },
        calculable : true,
        series : [

            {
                name:'面积模式',
                type:'pie',
                radius : [10, 70],
                center : ['50%', '50%'],
                roseType : 'area',
                data:[
                    {value:10, name:'温度'},
                    {value:5, name:'湿度'},
                    {value:15, name:'压力'},
                    {value:25, name:'有害气体'},
                ]
            }
        ]
    };
    myChart.setOption(option);
</script>

<script type="text/javascript">
    function FlowTotal() {
        var now = new Date();
        //当前日期赋值给当前日期输入框中（jQuery easyUI）
        var Ago = []
        for (var i = 0; i < 60; i++){
            var ago = new Date(now.setMinutes(now.getMinutes() - 1));
            Ago[i] = i;
        }

        var myChart = echarts.init(document.getElementById('averageShidu'));
        myChart.clear();
        option = {
            color:['#00ffff','#7fd7b1', '#5578cf', '#5ebbeb', '#d16ad8','#f8e19a',  '#00b7ee', '#81dabe','#5fc5ce'],
            backgroundColor: 'rgba(1,202,217,.2)',

            grid: {
                left: '5%',
                right: '8%',
                bottom: '7%',
                top:'8%',
                containLabel: true
            },
            toolbox: {
                feature: {
                    saveAsImage: {}
                }
            },
            xAxis: {
                type: 'category',
                boundaryGap: false,
                axisLine:{
                    lineStyle:{
                        color:'rgba(255,255,255,.2)'
                    }
                },
                splitLine:{
                    lineStyle:{
                        color:'rgba(255,255,255,.1)'
                    }
                },
                axisLabel:{
                    color:"rgba(255,255,255,.7)"
                },
                data: Ago
            },
            yAxis: {
                type: 'value',
                axisLine:{
                    lineStyle:{
                        color:'rgba(255,255,255,.2)'
                    }
                },
                splitLine:{
                    lineStyle:{
                        color:'rgba(255,255,255,.1)'
                    }
                },
                axisLabel:{
                    color:"rgba(255,255,255,.7)"
                },
            },
            series: [
                {
                    name:'人流量',
                    type:'line',
                    stack: '总量',
                    areaStyle: {normal: {}},
                    data:[10086, 11769, 19064, 13422, 18085, 16677, 19579, 19733, 16623, 10440, 14649, 17251, 16551, 10276, 17284, 19947, 16120, 19465, 18781, 14772, 12103, 15396, 14944, 10730, 12478, 13894, 19590, 13624, 11736, 13982, 18139, 16085, 13206, 11977, 11830, 13156, 16106, 11693, 16203, 13181, 10082, 13137, 13524, 15362, 11183, 18641, 17832, 11476, 10732, 14009, 15028, 10111, 10646, 19269, 10487, 19338, 18331, 17927, 17683, 14946]
                }

            ]
        };
        myChart.setOption(option);
    }

</script>

<script type="text/javascript">
    function WenDu() {
        var now = new Date();
        //当前日期赋值给当前日期输入框中（jQuery easyUI）
        var Ago = []
        for (var i = 0; i < 24; i++){
            var ago = new Date(now.setHours(now.getHours() - 1));
            Ago[i] = i;
        }

        var myChart = echarts.init(document.getElementById('averageWendu'));
        myChart.clear();
        option = {
            color:['#E2DAC7','#F99851', '#FCEF03', '#47B971', '#EE1F93','#8E78C0',  '#03ADE8', '#F4808D','#000000'],
            backgroundColor: 'rgba(1,202,217,.2)',
            grid: {
                left: '2%',
                right: '5%',
                bottom: '2%',
                top:'16%',
                containLabel: true,
                data:['温感01','温感02','温感03','温感04','温感05','警戒线']
            },

            toolbox: {
                feature: {
                    dataView: {show: true, readOnly: false},
                    magicType: {show: true, type: ['line', 'bar']},
                    restore: {show: true},
                    saveAsImage: {show: true}
                }
            },
            legend: {
                top:5,
                textStyle:{
                    fontSize: 10,
                    color:'rgba(255,255,255,.7)'
                },
                data:['温感01','温感02','温感03','温感04','温感05','警戒线']
            },
            xAxis: [
                {
                    type: 'category',
                    axisLine:{
                        lineStyle:{
                            color:'rgba(255,255,255,.2)'
                        }
                    },
                    splitLine:{
                        lineStyle:{
                            color:'rgba(255,255,255,.1)'
                        }
                    },
                    axisLabel:{
                        color:"rgba(255,255,255,.7)"
                    },

                    data: Ago,
                    axisPointer: {
                        type: 'shadow'
                    }
                }
            ],
            yAxis: [
                {
                    type: 'value',
                    name: '',
                    min: 0,
                    max: 40,
                    interval: 5,
                    axisLine:{
                        lineStyle:{
                            color:'rgba(255,255,255,.3)'
                        }
                    },
                    splitLine:{
                        lineStyle:{
                            color:'rgba(255,255,255,.01)'
                        }
                    },

                    axisLabel: {
                        formatter: '{value} °C'
                    }
                }
            ],
            series: [
                {
                    name:'温感01',
                    type:'line',
                    stack: '温感01',
                    // itemStyle: {
                    //     normal: {
                    //         color: new echarts.graphic.LinearGradient(
                    //             0, 0, 0, 1,
                    //             [
                    //                 {offset: 0, color: '#b266ff'},
                    //                 {offset: 1, color: '#121b87'}
                    //             ]
                    //         )
                    //     }
                    // },
                    data:[22, 20, 24, 20, 21, 22, 23, 20, 20, 23, 23, 22, 21, 24, 21, 22, 21, 20, 24, 21, 20, 24, 24, 22]
                },
                {
                    name:'温感02',
                    type:'line',
                    stack: '温感02',
                    data:[24, 24, 21, 22, 20, 21, 23, 24, 20, 24, 22, 20, 23, 23, 23, 20, 22, 20, 21, 23, 23, 22, 20, 22]
                },
                {
                    name:'温感03',
                    type:'line',
                    stack: '温感03',
                    data:[19, 19, 15, 16, 17, 17, 18, 16, 16, 15, 18, 17, 19, 15, 18, 18, 16, 16, 15, 15, 15, 15, 18, 17]
                },
                {
                    name:'温感04',
                    type:'line',
                    stack: '温感04',
                    data:[13, 17, 13, 13, 11, 16, 10, 16, 17, 15, 17, 12, 11, 10, 14, 15, 13, 16, 19, 10, 17, 17, 14, 19]
                },
                {
                    name:'温感05',
                    type:'line',
                    stack: '温感05',
                    data:[23, 26, 29, 21, 25, 27, 28, 23, 25, 24, 22, 28, 28, 23, 26, 23, 27, 26, 20, 27, 28, 20, 24, 26]
                },
                {
                    name:'警戒线',
                    type:'line',
                    stack: '警戒线',
                    data:[35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35]
                },
            ]
        };
        myChart.setOption(option);
    }

    WenDu();
</script>

<script type="text/javascript">
    function ShiDu() {
        var now = new Date();
        //当前日期赋值给当前日期输入框中（jQuery easyUI）
        var Ago = []
        for (var i = 0; i < 24; i++){
            var ago = new Date(now.setHours(now.getHours() - 1));
            Ago[i] = i;
        }

        var myChart = echarts.init(document.getElementById('averageShidu'));
        myChart.clear();
        option = {
            color:['#8E78C0','#03ADE8', '#F4808D','#000000', '#E2DAC7','#F99851', '#FCEF03', '#47B971', '#EE1F93'],
            backgroundColor: 'rgba(1,202,217,.2)',
            grid: {
                left: '2%',
                right: '5%',
                bottom: '2%',
                top:'16%',
                containLabel: true,
                data:['湿感01','湿感02','湿感03','湿感04','湿感05','警戒线']
            },

            toolbox: {
                feature: {
                    dataView: {show: true, readOnly: false},
                    magicType: {show: true, type: ['line', 'bar']},
                    restore: {show: true},
                    saveAsImage: {show: true}
                }
            },
            legend: {
                top:5,
                textStyle:{
                    fontSize: 10,
                    color:'rgba(255,255,255,.7)'
                },
                data:['湿感01','湿感02','湿感03','湿感04','湿感05','警戒线']
            },
            xAxis: [
                {
                    type: 'category',
                    axisLine:{
                        lineStyle:{
                            color:'rgba(255,255,255,.2)'
                        }
                    },
                    splitLine:{
                        lineStyle:{
                            color:'rgba(255,255,255,.1)'
                        }
                    },
                    axisLabel:{
                        color:"rgba(255,255,255,.7)"
                    },

                    data: Ago,
                    axisPointer: {
                        type: 'shadow'
                    }
                }
            ],
            yAxis: [
                {
                    type: 'value',
                    name: '',
                    min: 0,
                    max: 100,
                    interval: 10,
                    axisLine:{
                        lineStyle:{
                            color:'rgba(255,255,255,.3)'
                        }
                    },
                    splitLine:{
                        lineStyle:{
                            color:'rgba(255,255,255,.01)'
                        }
                    },

                    axisLabel: {
                        formatter: '{value} %'
                    }
                }
            ],
            series: [
                {
                    name:'湿感01',
                    type:'line',
                    stack: '湿感01',
                    data:[58, 59, 57, 57, 58, 56, 57, 56, 59, 56, 57, 59, 59, 58, 57, 59, 59, 55, 55, 58, 58, 57, 59, 59]
                },
                {
                    name:'湿感02',
                    type:'line',
                    stack: '湿感02',
                    data:[53, 56, 51, 51, 50, 52, 53, 59, 54, 59, 56, 52, 54, 58, 57, 55, 59, 51, 57, 57, 54, 57, 54, 51]
                },
                {
                    name:'湿感03',
                    type:'line',
                    stack: '湿感03',
                    data:[41, 53, 41, 41, 44, 43, 43, 48, 46, 45, 48, 43, 40, 46, 50, 45, 43, 43, 47, 52, 48, 48, 40, 51]
                },
                {
                    name:'湿感04',
                    type:'line',
                    stack: '湿感04',
                    data:[31, 34, 37, 30, 38, 33, 31, 36, 34, 39, 37, 31, 32, 30, 38, 37, 37, 38, 38, 39, 31, 31, 36, 38]
                },
                {
                    name:'湿感05',
                    type:'line',
                    stack: '湿感05',
                    data:[34, 33, 27, 28, 33, 30, 26, 27, 26, 28, 34, 30, 25, 30, 27, 34, 33, 27, 33, 27, 33, 34, 29, 33]
                },
                {
                    name:'警戒线',
                    type:'line',
                    stack: '警戒线',
                    data:[80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80, 80,]
                },
            ]
        };
        myChart.setOption(option);
    }

    ShiDu();
</script>

<script type="text/javascript">
    function AtmospherePressure() {
        var now = new Date();
        //当前日期赋值给当前日期输入框中（jQuery easyUI）
        var Ago = []
        for (var i = 0; i < 24; i++){
            var ago = new Date(now.setHours(now.getHours() - 1));
            Ago[i] = i;
        }

        var myChart = echarts.init(document.getElementById('averageWendu'));
        myChart.clear();
        option = {
            backgroundColor: 'rgba(1,202,217,.2)',
            grid: {
                left:60,
                right:20,
                top:45,
                bottom:40
            },
            legend: {
                top:10,
                textStyle:{
                    fontSize: 10,
                    color:'rgba(255,255,255,.7)'
                },
                data:['真实气压','标准线']
            },
            toolbox: {
                feature: {
                    dataView: {show: true, readOnly: false},
                    magicType: {show: true, type: ['line', 'bar']},
                    restore: {show: true},
                    saveAsImage: {show: true}
                }
            },
            xAxis: [
                {
                    type: 'category',
                    axisLine:{
                        lineStyle:{
                            color:'rgba(255,255,255,.2)'
                        }
                    },
                    splitLine:{
                        lineStyle:{
                            color:'rgba(255,255,255,.1)'
                        }
                    },
                    axisLabel:{
                        color:"rgba(255,255,255,.7)"
                    },

                    data: Ago,
                    axisPointer: {
                        type: 'shadow'
                    }
                }
            ],
            yAxis: [
                {
                    type: 'value',
                    name: '',
                    min: 96,
                    max: 104,
                    interval: 2,
                    axisLine:{
                        lineStyle:{
                            color:'rgba(255,255,255,.3)'
                        }
                    },
                    splitLine:{
                        lineStyle:{
                            color:'rgba(255,255,255,.01)'
                        }
                    },

                    axisLabel: {
                        formatter: '{value} kPa'
                    }
                }
            ],
            series: [
                {
                    name:'真实气压',
                    type:'bar',
                    itemStyle: {
                        normal: {
                            color: new echarts.graphic.LinearGradient(
                                0, 0, 0, 1,
                                [
                                    {offset: 0, color: '#FD751F'},
                                    {offset: 1, color: '#02356A'}
                                ]
                            )
                        }
                    },
                    data:[100.72, 101.48, 101.34, 100.5, 101.99, 100.85, 101.8, 101.99, 100.65, 100.53, 100.78, 100.88, 101.95, 101.18, 101.68, 101.95, 101.78, 101.99, 101.7, 101.65, 101.67, 100.96, 101.71, 101.86]
                },
                {
                    name:'标准线',
                    type:'line',
                    itemStyle: {
                        normal: {
                            color: new echarts.graphic.LinearGradient(
                                0, 0, 0, 1,
                                [
                                    {offset: 0, color: '#fffb34'},
                                    {offset: 1, color: '#fffb34'}
                                ]
                            )
                        }
                    },
                    data:[101.325, 101.325, 101.325, 101.325, 101.325, 101.325, 101.325, 101.325, 101.325, 101.325, 101.325, 101.325, 101.325, 101.325, 101.325, 101.325,
                        101.325, 101.325, 101.325, 101.325, 101.325, 101.325, 101.325, 101.325,]
                }
            ]
        };
        myChart.setOption(option);
    }
</script>

<script type="text/javascript">
    function NoxiousGas() {
        var now = new Date();
        //当前日期赋值给当前日期输入框中（jQuery easyUI）
        var Ago = []
        for (var i = 0; i < 24; i++){
            var ago = new Date(now.setHours(now.getHours() - 1));
            Ago[i] = i;
        }

        var myChart = echarts.init(document.getElementById('averageShidu'));
        myChart.clear();
        option = {
            color:['#47B971', '#F99851', '#03ADE8', '#FCEF03', '#F4808D', '#EE1F93', '#E2DAC7', '#8E78C0', '#000000'],
            backgroundColor: 'rgba(1,202,217,.2)',
            grid: {
                left: '2%',
                right: '5%',
                bottom: '2%',
                top:'16%',
                containLabel: true,
                data:['可燃气体','硫化气体','一氧化碳','甲烷','PM2.5','警戒线']
            },

            toolbox: {
                feature: {
                    dataView: {show: true, readOnly: false},
                    magicType: {show: true, type: ['line', 'bar']},
                    restore: {show: true},
                    saveAsImage: {show: true}
                }
            },
            legend: {
                top:5,
                textStyle:{
                    fontSize: 10,
                    color:'rgba(255,255,255,.7)'
                },
                data:['可燃气体','硫化气体','一氧化碳','甲烷','PM2.5','警戒线']
            },
            xAxis: [
                {
                    type: 'category',
                    axisLine:{
                        lineStyle:{
                            color:'rgba(255,255,255,.2)'
                        }
                    },
                    splitLine:{
                        lineStyle:{
                            color:'rgba(255,255,255,.1)'
                        }
                    },
                    axisLabel:{
                        color:"rgba(255,255,255,.7)"
                    },

                    data: Ago,
                    axisPointer: {
                        type: 'shadow'
                    }
                }
            ],
            yAxis: [
                {
                    type: 'value',
                    name: '',
                    min: 0,
                    max: 20,
                    interval: 2,
                    axisLine:{
                        lineStyle:{
                            color:'rgba(255,255,255,.3)'
                        }
                    },
                    splitLine:{
                        lineStyle:{
                            color:'rgba(255,255,255,.01)'
                        }
                    },

                    axisLabel: {
                        formatter: '{value} mg/m3'
                    }
                }
            ],
            series: [
                {
                    name:'可燃气体',
                    type:'line',
                    stack: '可燃气体',
                    data:[1.53, 1.29, 2.28, 0.52, 0.43, 0.05, 0.28, 1.86, 0.48, 2.33, 1.12, 2.77, 1.74, 0.82, 2.95, 0.69, 1.13, 2.04, 0.03, 2.87, 2.05, 1.1, 0.16, 2.88]
                },
                {
                    name:'硫化气体',
                    type:'line',
                    stack: '硫化气体',
                    data:[1.05, 1.13, 1.05, 1.67, 0.77, 1.01, 0.78, 0.58, 1.23, 1.66, 1.98, 0.54, 2.63, 0.74, 1.29, 2.22, 1.05, 1.2, 1.72, 2.99, 2.62, 2.39, 2.47, 2.37]
                },
                {
                    name:'一氧化碳',
                    type:'line',
                    stack: '一氧化碳',
                    data:[0.26, 1.56, 1.06, 1.03, 0.39, 2.91, 0.73, 1.92, 0.27, 0.33, 2.92, 2.82, 0.39, 0.95, 2.21, 2.03, 1.32, 0.68, 1.42, 2.13, 1.0, 0.39, 1.68, 2.76]
                },
                {
                    name:'甲烷',
                    type:'line',
                    stack: '甲烷',
                    data:[0.92, 0.17, 0.27, 1.78, 2.93, 2.41, 1.56, 2.69, 1.52, 2.22, 2.12, 2.9, 1.59, 2.43, 2.08, 1.59, 2.74, 1.0, 2.38, 2.93, 2.45, 0.43, 1.56, 1.84]
                },
                {
                    name:'PM2.5',
                    type:'line',
                    stack: 'PM2.5',
                    data:[5.48, 4.79, 5.28, 4.2, 4.06, 5.89, 5.79, 3.12, 5.85, 4.65, 4.44, 4.51, 3.84, 4.83, 4.72, 5.82, 5.58, 5.43, 5.38, 5.61, 4.25, 5.96, 3.19, 4.51]
                },
                {
                    name:'警戒线',
                    type:'line',
                    stack: '警戒线',
                    data:[15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15]
                },
            ]
        };
        myChart.setOption(option);
    }
</script>

<script type="text/javascript">
    var myChart = echarts.init(document.getElementById('yichangzhanbi'));
    option = {
        color:['#E2DAC7','#F99851', '#FCEF03', '#47B971', '#EE1F93','#8E78C0',  '#03ADE8', '#F4808D','#000000'],
        backgroundColor: 'rgba(1,202,217,.2)',
        grid: {
            left:20,
            right:20,
            top:0,
            bottom:20
        },
        // legend: {
        //     top:10,
        //     textStyle:{
        //         fontSize: 10,
        //         color:'rgba(255,255,255,.7)'
        //     },
        //     data:['温度','湿度','坍塌','震动','渗水','异物入侵','位移','气压','可燃气体','硫化气体','一氧化碳','甲烷','PM2.5']
        // },
        series : [
            {
                name: '异常类型',
                type: 'pie',
                radius : '55%',
                center: ['50%', '55%'],
                data:[
                    {value:10, name:'温度'},
                    {value:12, name:'湿度'},
                    {value:0, name:'坍塌'},
                    {value:7, name:'震动'},
                    {value:21, name:'异物入侵'},
                    {value:1, name:'位移'},
                    {value:1, name:'气压'},
                    {value:0, name:'可燃气体'},
                    {value:0, name:'硫化气体'},
                    {value:0, name:'一氧化碳'},
                    {value:0, name:'甲烷'},
                    {value:4, name:'PM2.5'}
                ],
                itemStyle: {
                    emphasis: {
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                }
            }
        ]
    };
    myChart.setOption(option);
</script>

<script type="text/javascript">
    function FlowPercent() {
        var myChart = echarts.init(document.getElementById('averageWendu'));
        myChart.clear();
        option = {
            color: ['#FF6C00', '#9CFF00', '#0078FF', '#FFFF00'],
            backgroundColor: 'rgba(1,202,217,.2)',
            grid: {
                left: 10,
                right: 40,
                top: 0,
                bottom: 0,
                containLabel: true
            },
            calculable: true,
            series: [

                {
                    name: '面积模式',
                    type: 'pie',
                    radius: [10, 70],
                    center: ['50%', '50%'],
                    roseType: 'area',
                    data: [
                        { value: 1693, name: 'A口' },
                        { value: 507, name: 'B口' },
                        { value: 1215, name: 'C口' },
                        { value: 1788, name: 'D口' },
                        { value: 1135, name: 'E口' },
                        { value: 724, name: 'F口' },
                    ]
                }
            ]
        };
        myChart.setOption(option);
    }
</script>

<script type="text/javascript">
    var now = new Date();
    //当前日期赋值给当前日期输入框中（jQuery easyUI）
    var Ago = []
    for (var i = 0; i < 60; i++){
        var ago = new Date(now.setMinutes(now.getMinutes() - 1));
        //Ago[60-i-1] = ago.getMinutes();
        Ago[i] = i;
    }

    var myChart = echarts.init(document.getElementById('CPURAMROM'));
    option = {
        color:['#00ffff','#7fd7b1', '#5578cf', '#5ebbeb', '#d16ad8','#f8e19a',  '#00b7ee', '#81dabe','#5fc5ce'],
        backgroundColor: 'rgba(1,202,217,.2)',

        grid: {
            left: '5%',
            right: '8%',
            bottom: '7%',
            top:'8%',
            containLabel: true,
            data:['CPU','RAM','ROM']
        },
        legend: {
            top: 5,
            textStyle:{
                fontSize:10,
                color:'rgba(255,255,255,.6)'
            },
            data:['CPU','RAM','ROM']
        },
        toolbox: {
            feature: {
                saveAsImage: {}
            }
        },
        xAxis: {
            type: 'category',
            boundaryGap: false,
            //name: 'time',
            axisLine:{
                lineStyle:{
                    color:'rgba(255,255,255,.2)'
                }
            },
            splitLine:{
                lineStyle:{
                    color:'rgba(255,255,255,.1)'
                }
            },
            axisLabel:{
                color:"rgba(255,255,255,.7)"
            },
            data: Ago
        },
        yAxis: {
            type: 'value',
            min: 0,
            max: 100,
            axisLine:{
                lineStyle:{
                    color:'rgba(255,255,255,.2)'
                }
            },
            splitLine:{
                lineStyle:{
                    color:'rgba(255,255,255,.1)'
                }
            },
            axisLabel:{
                color:"rgba(255,255,255,.7)",
                formatter: '{value}'
            },
        },
        series: [
            {
                name:'CPU',
                type:'line',
                stack: 'CPU',
                symbol: 'none',
                //areaStyle: {normal: {}},
                data:[51.68, 54.23, 54.32, 50.71, 51.24, 54.79, 51.7, 52.82, 52.73, 53.78, 51.72, 50.06, 50.57, 51.24, 53.12, 51.31, 50.81, 52.24, 50.5, 51.3, 52.11, 54.1, 50.54, 53.44, 52.07, 53.84, 51.93, 54.6, 54.37, 53.19, 53.29, 51.07, 54.67, 54.05, 54.65, 54.64, 52.1, 53.43, 54.05, 52.97, 53.16, 52.46, 52.57, 52.5, 52.06, 52.73, 54.33, 50.76, 50.88, 51.95, 52.52, 53.03, 51.84, 53.87, 50.85, 51.99, 52.33, 53.45, 50.0, 51.78]
            },
            {
                name:'RAM',
                type:'line',
                stack: 'RAM',
                symbol: 'none',
                //areaStyle: {normal: {}},
                data:[40.38, 42.08, 42.36, 40.11, 42.61, 40.47, 40.34, 42.53, 40.31, 42.94, 40.85, 42.37, 42.28, 42.15, 40.24, 40.4, 40.1, 40.0, 41.61, 42.59, 41.86, 41.36, 41.33, 41.97, 40.8, 41.74, 41.69, 42.72, 40.81, 41.57, 42.23, 41.04, 41.15, 42.45, 41.43, 40.09, 42.69, 41.95, 42.15, 40.61, 41.09, 41.12, 41.78, 42.1, 41.43, 42.16, 42.87, 41.28, 42.38, 42.49, 40.93, 41.16, 41.1, 40.87, 41.24, 41.01, 41.13, 40.92, 40.72, 42.41]
            },
            {
                name:'ROM',
                type:'line',
                stack: 'ROM',
                symbol: 'none',
                //areaStyle: {normal: {}},
                data:[39.4, 39.95, 39.64, 41.42, 40.33, 40.81, 41.38, 42.44, 41.95, 42.13, 38.21, 42.12, 40.01, 42.25, 40.51, 40.73, 40.01, 42.2, 41.7, 40.3, 41.34, 39.65, 39.4, 42.8, 39.9, 42.86, 41.72, 42.41, 42.81, 41.6, 41.22, 38.44, 40.03, 38.09, 42.39, 38.82, 42.15, 39.57, 42.16, 41.23, 38.24, 39.51, 40.93, 38.11, 38.71, 40.89, 39.61, 39.99, 40.09, 42.02, 39.96, 40.89, 42.85, 41.71, 38.72, 39.93, 42.0, 40.8, 40.54, 41.21]
            }
        ]
    };
    myChart.setOption(option);
</script>

</body>
</html>
